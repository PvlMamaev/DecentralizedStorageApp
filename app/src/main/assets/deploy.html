<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>TON Connect</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/@tonconnect/ui@2.1.0/dist/tonconnect-ui.min.js"></script>
    <script>
        window.addEventListener("DOMContentLoaded", () => {
          console.log("üî• HTML –∑–∞–≥—Ä—É–∂–µ–Ω");

          const tonConnectUI = new TonConnectUI({
            manifestUrl: "https://pvlmamaev.github.io/DecentralizedStorageApp/app/src/main/assets/tonconnect-manifest.json"
          });

          tonConnectUI.uiOptions = {
            buttonRootId: "connect-button"e
          };

          tonConnectUI.renderWalletConnection();

          window.sendCid = async function (cidBoc) {
            try {
              await tonConnectUI.sendTransaction({
                validUntil: Math.floor(Date.now() / 1000) + 600,
                messages: [
                  {
                    address: "EQANpQ6yztUW2Cl9EbSFIKgzcdacgv6MOFfR4qpZgs5YOuMN",
                    amount: "50000000",
                    payload: cidBoc
                  }
                ]
              });
              alert("‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
            } catch (e) {
              alert("‚ùå –û—à–∏–±–∫–∞: " + e);
              console.error(e);
            }
          };
        });
    </script>


</head>
<body>
<h1>TON Connect</h1>
<div id="connect-button"></div>
</body>
</html>
